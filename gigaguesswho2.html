<!DOCTYPE html>
<htmL lang="en" style="font-size: 64px;">
<head>
<meta charset="UTF-8">
<title>
Casino Cops
</title>

<script type="text/javascript">
	

class Person{
	eliminated = false;
	skin = -1;
	eyes = -1;
	hair = -1;
	shirt = -1;

	constructor(){
		this.eliminated = false;
		this.skin = Math.floor(Math.random()*3+1);
		this.eyes = Math.floor(Math.random()*3+1);
		this.hair = Math.floor(Math.random()*3+1);
		this.shirt = Math.floor(Math.random()*3+1);
	}

	compareTo(suspect){
		return (
			this.skin == suspect.skin
			&& this.eyes == suspect.eyes
		);
	}
}

var suspectsLeft = 5;
var suspects = [];
var perp = new Person();

generateSuspects();
drawSuspects();

document.addEventListener('keydown', function(event){
	investigate('eyes');
	drawSuspects();
	console.log ("perp " + perp.eyes);
});

function generateSuspects(count){
	var perp = new Person();
	suspects.push(perp);
	var temp;
	while (suspects.length < suspectsLeft){
		temp = new Person();
		if (temp != perp){
			suspects.push(temp);
		} 
	}
}

function pickValidValue(excludedValue, maxValue){

}

function investigate(attribute){

	var val = (Math.floor(Math.random()*2) + 1 + perp[attribute]);
	var possibles = [1,2,3,1,2,3];
	val = possibles[val-1];
	console.log("value: " + val);

	console.log ("Investigating")
	suspects.forEach((item) => {
		if (item[attribute] == val){
			if (!item.eliminated){
				item.eliminated = true;
				suspectsLeft = suspectsLeft - 1
			}
		}
	});

}

function applyClue(clue){

	//For each suspect, check if they match the eliminated attribute value, then set them to eliminated
	for (person in suspects) {
		if (!person.eliminated){
			if (false){
				person.eliminated = true;
				suspectsLeft = suspectsLeft - 1;
			}
		}
	}

	//Update the display
}

function drawSuspect(suspect){
	if (suspect.eliminated){
		console.log('X');
		return;
	}
	console.log(suspect.eyes)
}

function drawSuspects(){
	suspects.forEach((item) => drawSuspect(item));
}


</script>

</html>